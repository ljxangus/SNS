#:kivy 1.7.1
#:import ListAdapter kivy.adapters.listadapter.ListAdapter
#:import Factory kivy.factory.Factory

<Screen>:
	canvas:
		Color:
			rgb: .6, .6, .6
		Rectangle:
			size: self.size
			source: 'data/background.png'

<MutableLabelTextInput@MutableTextInput>:
	Label:
		id: w_label
		pos: root.pos
		text: root.text

	TextInput:
		id: w_textinput
		pos: root.pos
		text: root.text
		multiline: True
		on_focus: root.check_focus_and_view(self)
		
<MutableRstDocumentTextInput@MutableTextInput>:
	RstDocument:
		id: w_label
		pos: root.pos
		text: root.text
		font_name:"fonts/DroidSansFallback.ttf"

	TextInput:
		id: w_textinput
		pos: root.pos
		text: root.text
		font_name:"fonts/DroidSansFallback.ttf"
		multiline: True
		on_focus: root.check_focus_and_view(self)
		
<GeneralOptions@BoxLayout>:
	orientation:'horizontal'
	padding:'2dp'
	Button:
		font_size: '10sp'
		text:'View channel'
		on_release: app.view_channel()
	Button:
		font_size: '10sp'
		text:'Authorize channel'
		on_release: app.auth_channel()

		
<ChannelGeneralOptions@BoxLayout>:
	orientation:'horizontal'
	padding:'2dp'
	Button:
		font_size: '10sp'
		text:'Add channel'
		on_release: app.add_channel()
	Button:
		font_size: '10sp'
		text:'Save channel config'
		on_release: app.save_config()

<StatusBar@BoxLayout>:
	orientation:'horizontal'
	Label:
		font_size: '10sp' 
		text: root.time_str
	Label:
		font_size: '10sp'
		text:'Wire connected: ' + root.connection_status
		
<SaveConfigBubble@Bubble>:
	Label:
		text:'Configuration saved'
		
<DropDownMenu>:
    Button:
        text: 'View channel'
        font_size: '12sp'
        size_hint_y: None
        height: 30
        on_release: app.view_channel()
        on_release: root.dismiss()
    Button:
        text: 'Authorize channel'
        font_size: '12sp'
        size_hint_y: None
        height: 30
        on_release: app.auth_channel()
        on_release: root.dismiss()
	Button:
        text: 'About'
        font_size: '12sp'
        size_hint_y: None
        height: 30
        on_release: app.aboutPopup()
        on_release: root.dismiss()
	Button:
        text: 'Help'
        font_size: '12sp'
        size_hint_y: None
        height: 30
        on_release: app.helpPopup()
        on_release: root.dismiss()
	
